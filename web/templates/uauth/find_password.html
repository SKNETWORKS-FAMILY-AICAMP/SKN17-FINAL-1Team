{% extends 'layout/base.html' %}
{% load static %}
{% block style %}
    <link rel="stylesheet" href="{% static 'css/find_password.css' %}">
{% endblock style %}

{% block content %}
<aside class="sidebar" id="sidebar">
    <div class="logo-wrapper" onclick="location.href='/main/'">
        <img class='sidebar-logo' src="{% static 'images/small_logo.png'%}"/>
    </div>
</aside>

<div class="main-container">
    <div class="content">
        <div class="logo-section">
            <img src="{% static 'images/logo.png' %}" alt="HAIR STYLE IS ALL YOU NEED" class="main-logo">
        </div>
        
        <h1 class="page-title">비밀번호 찾기</h1>
        
        <form id="passwordResetForm">
            <!-- 이메일 입력 -->
            <div class="form-section">
                <div class="input-row">
                    <input type="text" id="emailUsername" class="form-input email-input" placeholder="이메일">
                    <span class="at-symbol">@</span>
                    <div class="domain-select-wrapper">
                        <select id="emailDomainSelect" class="form-input domain-select">
                            <option value="">선택하세요</option>
                            <option value="gmail.com">gmail.com</option>
                            <option value="naver.com">naver.com</option>
                            <option value="daum.net">daum.net</option>
                            <option value="hanmail.net">hanmail.net</option>
                            <option value="kakao.com">kakao.com</option>
                            <option value="custom">직접 입력</option>
                        </select>
                    </div>
                    <input type="text" id="emailDomain" class="form-input domain-input hidden" placeholder="직접 입력">
                    <button type="button" class="action-btn" id="sendCodeBtn" disabled>인증코드 발송</button>
                </div>
                <p class="error-message" id="emailError"></p>
                <p class="success-message" id="emailSuccessMessage"></p>
            </div>

            <!-- 인증코드 입력 -->
            <div class="form-section">
                <div class="input-row">
                    <input type="text" id="verificationCode" class="form-input code-input" placeholder="인증코드 입력" maxlength="6" disabled>
                    <span class="timer" id="timer">2: 59</span>
                    <button type="button" class="action-btn" id="confirmCodeBtn" disabled>인증코드 확인</button>
                </div>
                <p class="error-message" id="codeError">인증시간이 만료되었습니다. 코드를 다시 발급받아 주세요.</p>
            </div>

            <!-- 새 비밀번호 입력 -->
            <div class="form-section">
                <input type="password" id="newPassword" class="form-input full-width" placeholder="새 비밀번호" disabled>
                <p class="info-text">영어 대문자/소문자/숫자/특수문자 중 세 가지로 구성된 8~15 글자만 가능합니다.</p>
                <p class="error-message" id="passwordError">비밀번호 형식에 맞지 않습니다.</p>
            </div>

            <!-- 비밀번호 확인 -->
            <div class="form-section">
                <input type="password" id="confirmPassword" class="form-input full-width" placeholder="비밀번호를 다시 입력해주세요." disabled>
                <p class="error-message" id="confirmError">비밀번호가 일치하지 않습니다.</p>
            </div>

            <!-- 수정/취소 버튼 -->
            <div class="form-section submit-section">
                <button type="button" class="submit-btn cancel-btn" onclick="location.href=`{% url 'main:main' %}`">취소</button>
                <button type="submit" class="submit-btn" id="submitBtn" disabled>수정</button>
            </div>
        </form>
    </div>
</div>

<!-- 성공 모달 -->
{% include 'uauth/findpw_modal.html' %}


{% endblock content %}

{% block script %}
<script src="{% static 'js/find_password.js'%}"></script>
{% endblock script %}
