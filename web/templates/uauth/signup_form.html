{% extends 'layout/base.html' %}
{% load static %}
{% block style %}
<link rel="stylesheet" href="{% static 'css/signup_form.css' %}">
{% endblock style %}

{% block content %}
<!-- 사이드바 -->
<aside class="sidebar" id="sidebar">
    <div class="logo-wrapper" onclick="location.href='/main/'">
        <img class='sidebar-logo' src="{% static 'images/small_logo.png'%}"/>
    </div>
</aside>

<div class="main-container">
    <div class="signup-form-content">
        <!-- 헤더 -->
        <div class="form-header">
            <div class="logo-section">
                <img src="{% static 'images/logo.png' %}" alt="HAIR STYLE IS ALL YOU NEED" class="main-logo">
            </div>
        </div>

        <!-- 타이틀 -->
        <h1 class="signup-title">회원가입</h1>

        <!-- 회원가입 폼 -->
        <form id="signupForm" class="signup-form">
            <!-- 이메일 입력 섹션 -->
            <div class="form-group email-group">
                <div class="email-input-row">
                    <input type="text" id="emailId" class="form-input email-id" placeholder="이메일">
                    <span class="at-symbol">@</span>
                    <div class="domain-select-wrapper">
                        <select id="domainSelect" class="form-input domain-select">
                            <option value="">선택하세요</option>
                            <option value="gmail.com">gmail.com</option>
                            <option value="naver.com">naver.com</option>
                            <option value="daum.net">daum.net</option>
                            <option value="hanmail.net">hanmail.net</option>
                            <option value="kakao.com">kakao.com</option>
                            <option value="custom">직접 입력</option>
                        </select>
                    </div>
                    <input type="text" id="customDomain" class="form-input custom-domain" placeholder="직접 입력" style="display: none;">
                    <button type="button" id="sendCodeBtn" class="action-btn" disabled>인증코드 발송</button>
                </div>
                <p class="helper-text" id="emailHelperText"></p>
            </div>

            <!-- 인증코드 입력 섹션 -->
            <div class="form-group verify-group" id="verifySection">
                <div class="verify-input-row">
                    <input type="text" id="verifyCode" class="form-input verify-input" placeholder="인증코드 입력" maxlength="6" disabled>
                    <span class="timer" id="timer"></span>
                    <button type="button" id="verifyCodeBtn" class="action-btn" disabled>인증코드 확인</button>
                </div>
                <p class="error-text" id="verifyError"></p>
                <p class="success-text" id="verifySuccess"></p>
            </div>

            <!-- 비밀번호 입력 -->
            <div class="form-group">
                <input type="password" id="password" class="form-input full-width" placeholder="비밀번호" disabled>
                <p class="helper-text">영어 대소문자/숫자/특수문자 중 세 가지로 구성된 8~15 글자만 가능합니다.</p>
                <p class="error-text" id="passwordError"></p>
                <p class="success-text" id="passwordSuccess"></p>
            </div>

            <!-- 비밀번호 확인 -->
            <div class="form-group">
                <input type="password" id="passwordConfirm" class="form-input full-width" placeholder="비밀번호 확인" disabled>
                <p class="error-text" id="passwordConfirmError"></p>
                <p class="success-text" id="passwordConfirmSuccess"></p>
            </div>

            <!-- 닉네임 입력 -->
            <div class="form-group">
                <input type="text" id="nickname" class="form-input full-width" placeholder="닉네임" disabled>
                <p class="helper-text">영어/한글로 구성된 2~10글자만 가능합니다.</p>
                <p class="error-text" id="nicknameError"></p>
                <p class="success-text" id="nicknameSuccess"></p>
            </div>

            <!-- 프로필 이미지 -->
            <div class="form-group profile-group">
                <div class="profile-label">
                    <span>프로필 이미지</span>
                    <span class="optional-text">선택</span>
                </div>
                <div class="profile-upload-area">
                    <div class="profile-preview" id="profilePreview">
                        <input type="file" id="profileImage" accept=".jpg,.jpeg,.png,.gif"  hidden>
                        <span class="plus-icon">+</span>
                        <img id="previewImg" src="" alt="" style="display: none;">
                        <button type="button" class="remove-profile-btn" id="removeProfileBtn" style="display: none;">×</button>
                    </div>
                    <div class="profile-info">
                        <p>가능한 형식</p>
                        <p>1080 X 1080 최대 5MB</p>
                        <p class="error-text" id="profileError"></p>
                    </div>
                </div>
            </div>

            <!-- 전체 에러 메시지 -->
            <p class="error-text overall-error" id="overallError"></p>

            <!-- 버튼 영역 -->
            <div class="button-group">
                <button type="button" id="cancelBtn" class="cancel-btn">취소</button>
                <button type="submit" id="submitBtn" class="submit-btn" disabled>회원가입</button>
            </div>
        </form>
    </div>
</div>

<!-- 성공 모달 -->
{% include 'uauth/signup_modal.html' %}

{% endblock content %}

{% block script %}
<script src="{% static 'js/signup_form.js'%}"></script>
{% endblock script %}
